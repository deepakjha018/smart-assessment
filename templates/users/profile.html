{% extends 'base.html' %}
{% block title %}Profile{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-7">
        <div class="card shadow p-4">

            <div class="text-center">
                <img src="{{ profile.profile_pic.url }}"
                     class="rounded-circle mb-3"
                     width="140"
                     height="140">

                <h4>{{ request.user.username }}</h4>
                <p class="text-muted">Joined: {{ request.user.date_joined|date:"F Y" }}</p>
            </div>

            <hr>

            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label>First Name</label>
                        <input type="text" class="form-control"
                               name="first_name"
                               value="{{ request.user.first_name }}">
                    </div>

                    <div class="col-md-6 mb-3">
                        <label>Last Name</label>
                        <input type="text" class="form-control"
                               name="last_name"
                               value="{{ request.user.last_name }}">
                    </div>
                </div>

                <div class="mb-3">
                    <label>Email</label>
                    <input type="email" class="form-control"
                           name="email"
                           value="{{ request.user.email }}">
                </div>

                <div class="mb-3">
                    <label>Bio</label>
                    <textarea class="form-control"
                              name="bio">{{ profile.bio }}</textarea>
                </div>

                <div class="mb-3">
                    <label>Education Level</label>
                    <select class="form-control" name="education_level">
                        <option value="">Select</option>
                        <option value="School">School</option>
                        <option value="Undergraduate">Undergraduate</option>
                        <option value="Postgraduate">Postgraduate</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label>Preferred Category</label>
                    <input type="text" class="form-control"
                           name="preferred_category"
                           value="{{ profile.preferred_category }}">
                </div>

                <div class="mb-3">
                    <label>Profile Picture</label>
                    <input type="file" class="form-control"
                           name="profile_pic">
                </div>

                <button class="btn btn-primary w-100">
                    Update Profile
                </button>
            </form>

        </div>
    </div>
</div>
{% endblock %}
